import{a as y,b as w,j as s,B as j,c as P,e as b,N as v,w as N,P as B,r as I,J as L,K as R}from"./index-Cxj4aO93.js";import{u as k,N as C,T as u}from"./use-form-BSLN8IR5.js";import{C as F}from"./Container-DSvad0L2.js";import{L as M,B as E}from"./LoadingOverlay-DTpiLQYS.js";import{p as G,G as T}from"./Group-DYSC0JXo.js";import"./__commonjsHelpers__-CqkleIqs.js";var g={root:"m_1b7284a3"};const U={},V=P((o,{radius:a,shadow:e})=>({root:{"--paper-radius":a===void 0?void 0:b(a),"--paper-shadow":v(e)}})),m=G((o,a)=>{const e=y("Paper",U,o),{classNames:n,className:r,style:c,styles:i,unstyled:t,withBorder:l,vars:d,radius:p,shadow:D,variant:h,mod:x,...S}=e,f=w({name:"Paper",props:e,classes:g,className:r,style:c,classNames:n,styles:i,unstyled:t,vars:d,varsResolver:V});return s.jsx(j,{ref:a,mod:[{"data-with-border":l},x],...f("root"),variant:h,...S})});m.classes=g;m.displayName="@mantine/core/Paper";const _=()=>{const o=N(),[a,{isLoading:e}]=B(),[n,r]=I.useState(null);return{handleSignin:async i=>{try{const t=await a(i).unwrap(),{username:l,email:d}=t.user,{token:p}=t;document.cookie=`token=${p}; path=/; max-age=86400; SameSite=Strict; Secure`,o(L({username:l,email:d})),r({color:"green",message:"Signin successful!"})}catch(t){console.log(t),r({color:"red",message:"signin failed!"})}},notification:n,setNotification:r,isLoading:e}},z=()=>{const o=k({initialValues:{username:"",password:""}}),{handleSignin:a,notification:e,setNotification:n,isLoading:r}=_(),c=async i=>{await a(i)};return s.jsxs(F,{m:"md",children:[s.jsx(M,{visible:r,loaderProps:s.jsx(R,{})}),e&&s.jsx(C,{color:e.color,onClose:()=>n(null),children:e.message}),s.jsx(m,{bd:".1px solid gray.8",p:"md",radius:"sm",shadow:"xl",children:s.jsxs("form",{onSubmit:o.onSubmit(c),children:[s.jsx(u,{mt:"md",label:"Username",placeholder:"Username",...o.getInputProps("username")}),s.jsx(u,{mt:"md",label:"Password",placeholder:"Password",type:"password",...o.getInputProps("password")}),s.jsx(T,{justify:"center",mt:"xl",children:s.jsx(E,{type:"submit",children:"Sign In"})})]})})]})};export{z as default};
